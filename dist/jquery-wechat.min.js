!function(e,n,i){"use strict";var t,o,r,u=i(n),c={},l={appid:"",img_url:"",img_width:"60",img_height:"60",link:function(){return e.location.toString()},desc:function(){var e=i('head meta[name="description"]');return e.length>0?e.attr("content"):""},title:function(){return n.title},callback:function(){}},a=function(){if("undefined"==typeof t)throw alert("You have to enable wechat first"),new Error("You have to enable wechat first")},d=function(e){return"function"==typeof e},f=function(e,n){return d(e[n])?e[n]():e[n]},s=function(e){a(),o.invoke("sendAppMessage",{appid:f(e,"appid"),img_url:f(e,"img_url"),img_width:f(e,"img_width"),img_height:f(e,"img_height"),link:f(e,"link"),desc:f(e,"desc"),title:f(e,"title")},function(n){e.callback(n.err_msg)})},g=function(e){a(),o.invoke("shareTimeline",{img_url:f(e,"img_url"),img_width:f(e,"img_width"),img_height:f(e,"img_height"),link:f(e,"link"),desc:f(e,"desc"),title:f(e,"title")},function(n){e.callback(n.err_msg)})},h=function(e){a(),o.invoke("shareWeibo",{content:f(e,"desc"),url:f(e,"link")},function(n){e.callback(n.err_msg)})},m=function(n){return function(){return"undefined"==typeof e.WeixinJSBridge?void n.reject():(o=e.WeixinJSBridge,o.on("menu:share:appmessage",function(){s(i.extend(!1,{},l,c))}),o.on("menu:share:timeline",function(){g(i.extend(!1,{},l,c))}),o.on("menu:share:weibo",function(){h(i.extend(!1,{},l,c))}),void n.resolve())}};i.wechat={enable:function(){if(t)return console.warn("wechat already enabled"),t;var n=i.Deferred();return t=n.promise(),r=e.setTimeout(m(n),2e3),u.on("WeixinJSBridgeReady",function(){e.clearTimeout(r),m(n)()}),t},destroy:function(){u.off("WeixinJSBridgeReady")},toggleMenu:function(e){a(),t.done(function(){o.call(e?"showOptionMenu":"hideOptionMenu")})},showMenu:function(){this.toggleMenu(!0)},hideMenu:function(){this.toggleMenu(!1)},toggleToolbar:function(e){a(),t.done(function(){o.call(e?"showToolbar":"hideToolbar")})},showToolbar:function(){this.toggleToolbar(!0)},hideToolbar:function(){this.toggleToolbar(!1)},getNetworkType:function(){var e=i.Deferred();return t.done(function(){o.call("getNetworkType",{},function(n){e.resolve(n.err_msg)})}),e.promise()},closeWindow:function(){var e=i.Deferred();return t.done(function(){o.call("closeWindow",{},function(n){return"close_window:ok"===n.err_msg?void e.resolve():"close_window:error"===n.err_msg?void e.reject():void 0})}),e.promise()},setShareOption:function(e){c=e}}}(window,document,jQuery);
//# sourceMappingURL=jquery-wechat.min.js.map