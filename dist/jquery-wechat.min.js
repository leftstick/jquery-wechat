!function(e,n,i){"use strict";var t,o,r=i(n),c={},u={appid:"",img_url:"",img_width:"60",img_height:"60",link:function(){return e.location.toString()},desc:function(){var e=i('head meta[name="description"]');return e.length>0?e.attr("content"):""},title:function(){return n.title},callback:function(){}},l=function(){if("undefined"==typeof t)throw alert("You have to enable wechat first"),new Error("You have to enable wechat first")},a=function(e){return"function"==typeof e},d=function(e,n){return a(e[n])?e[n]():e[n]},f=function(e){l(),o.invoke("sendAppMessage",{appid:d(e,"appid"),img_url:d(e,"img_url"),img_width:d(e,"img_width"),img_height:d(e,"img_height"),link:d(e,"link"),desc:d(e,"desc"),title:d(e,"title")},function(n){e.callback(n.err_msg)})},s=function(e){l(),o.invoke("shareTimeline",{img_url:d(e,"img_url"),img_width:d(e,"img_width"),img_height:d(e,"img_height"),link:d(e,"link"),desc:d(e,"desc"),title:d(e,"title")},function(n){e.callback(n.err_msg)})},g=function(e){l(),o.invoke("shareWeibo",{content:d(e,"desc"),url:d(e,"link")},function(n){e.callback(n.err_msg)})};i.wechat={enable:function(){if(t)return console.warn("wechat already enabled"),t;var n=i.Deferred();return t=n.promise(),r.on("WeixinJSBridgeReady",function(){o=e.WeixinJSBridge,o.on("menu:share:appmessage",function(){f(i.extend(!1,{},u,c))}),o.on("menu:share:timeline",function(){s(i.extend(!1,{},u,c))}),o.on("menu:share:weibo",function(){g(i.extend(!1,{},u,c))}),n.resolve()}),t},destroy:function(){r.off("WeixinJSBridgeReady")},toggleMenu:function(e){l(),t.done(function(){o.call(e?"showOptionMenu":"hideOptionMenu")})},showMenu:function(){this.toggleMenu(!0)},hideMenu:function(){this.toggleMenu(!1)},toggleToolbar:function(e){l(),t.done(function(){o.call(e?"showToolbar":"hideToolbar")})},showToolbar:function(){this.toggleToolbar(!0)},hideToolbar:function(){this.toggleToolbar(!1)},getNetworkType:function(){var e=i.Deferred();return t.done(function(){o.call("getNetworkType",{},function(n){e.resolve(n.err_msg)})}),e.promise()},closeWindow:function(){var e=i.Deferred();return t.done(function(){o.call("closeWindow",{},function(n){return"close_window:ok"===n.err_msg?void e.resolve():"close_window:error"===n.err_msg?void e.reject():void 0})}),e.promise()},setShareOption:function(e){c=e}}}(window,document,jQuery);
//# sourceMappingURL=jquery-wechat.min.js.map